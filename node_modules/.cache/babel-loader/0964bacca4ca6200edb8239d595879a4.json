{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/benjamindesole/Documents/GitHub/boite-a-recettes/src/hoc/withFirebase.js\";\nimport React, { Component } from 'react';\nimport recettes from '../recettes'; //firebse\n\nimport base from '../base';\n\nconst withFirebase = WrappedComponent => {\n  var _temp;\n\n  return _temp = class HOC extends Component {\n    constructor(...args) {\n      super(...args);\n      this.state = {\n        pseudo: this.props.match.params.pseudo,\n        recettes: {}\n      };\n\n      this.ajouterRecette = recette => {\n        const recettes = { ...this.state.recettes\n        };\n        recettes[`recette-${Date.now()}`] = recette;\n        this.setState({\n          recettes\n        });\n      };\n\n      this.majRecette = (key, newRecette) => {\n        const recettes = { ...this.state.recettes\n        };\n        recettes[key] = newRecette;\n        this.setState({\n          recettes\n        });\n      };\n\n      this.supprimerRecette = key => {\n        const recettes = { ...this.state.recettes\n        };\n        recettes[key] = null;\n        this.setState({\n          recettes\n        });\n      };\n\n      this.chargerExemple = () => this.setState({\n        recettes\n      });\n    }\n\n    componentDidMount() {\n      this.ref = base.syncState(`/${this.state.pseudo}/recettes`, {\n        context: this,\n        state: 'recettes'\n      });\n      this.setState({\n        update: true\n      });\n      console.log('componentDidMount');\n    }\n\n    componentDidUpdate() {\n      console.log('componentDidUpdate');\n    }\n\n    componentWillUnmount() {\n      base.removeBinding(this.ref);\n    }\n\n    render() {\n      return /*#__PURE__*/_jsxDEV(WrappedComponent, {\n        recettes: this.state.recettes,\n        ajouterRecette: this.ajouterRecette,\n        majRecette: this.majRecette,\n        supprimerRecette: this.supprimerRecette,\n        chargerExemple: this.chargerExemple,\n        ...this.props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this);\n    }\n\n  }, _temp;\n};\n\nexport default withFirebase;","map":{"version":3,"sources":["/Users/benjamindesole/Documents/GitHub/boite-a-recettes/src/hoc/withFirebase.js"],"names":["React","Component","recettes","base","withFirebase","WrappedComponent","HOC","state","pseudo","props","match","params","ajouterRecette","recette","Date","now","setState","majRecette","key","newRecette","supprimerRecette","chargerExemple","componentDidMount","ref","syncState","context","update","console","log","componentDidUpdate","componentWillUnmount","removeBinding","render"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,aAArB,C,CAEA;;AACA,OAAOC,IAAP,MAAiB,SAAjB;;AAEA,MAAMC,YAAY,GAAGC,gBAAgB;AAAA;;AAAA,iBACjC,MAAMC,GAAN,SAAkBL,SAAlB,CAA4B;AAAA;AAAA;AAAA,WACxBM,KADwB,GAChB;AACJC,QAAAA,MAAM,EAAE,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,MAD5B;AAEJN,QAAAA,QAAQ,EAAE;AAFN,OADgB;;AAAA,WAuBxBU,cAvBwB,GAuBPC,OAAO,IAAI;AACxB,cAAMX,QAAQ,GAAG,EAAE,GAAG,KAAKK,KAAL,CAAWL;AAAhB,SAAjB;AACAA,QAAAA,QAAQ,CAAE,WAAUY,IAAI,CAACC,GAAL,EAAW,EAAvB,CAAR,GAAoCF,OAApC;AACA,aAAKG,QAAL,CAAc;AAAEd,UAAAA;AAAF,SAAd;AACH,OA3BuB;;AAAA,WA6BxBe,UA7BwB,GA6BX,CAACC,GAAD,EAAMC,UAAN,KAAqB;AAC9B,cAAMjB,QAAQ,GAAG,EAAE,GAAG,KAAKK,KAAL,CAAWL;AAAhB,SAAjB;AACAA,QAAAA,QAAQ,CAACgB,GAAD,CAAR,GAAgBC,UAAhB;AACA,aAAKH,QAAL,CAAc;AAAEd,UAAAA;AAAF,SAAd;AACH,OAjCuB;;AAAA,WAmCxBkB,gBAnCwB,GAmCLF,GAAG,IAAI;AACtB,cAAMhB,QAAQ,GAAG,EAAE,GAAG,KAAKK,KAAL,CAAWL;AAAhB,SAAjB;AACAA,QAAAA,QAAQ,CAACgB,GAAD,CAAR,GAAgB,IAAhB;AACA,aAAKF,QAAL,CAAc;AAAEd,UAAAA;AAAF,SAAd;AACH,OAvCuB;;AAAA,WAyCxBmB,cAzCwB,GAyCP,MAAM,KAAKL,QAAL,CAAc;AAAEd,QAAAA;AAAF,OAAd,CAzCC;AAAA;;AAMxBoB,IAAAA,iBAAiB,GAAE;AACf,WAAKC,GAAL,GAAWpB,IAAI,CAACqB,SAAL,CAAgB,IAAG,KAAKjB,KAAL,CAAWC,MAAO,WAArC,EAAiD;AACxDiB,QAAAA,OAAO,EAAE,IAD+C;AAExDlB,QAAAA,KAAK,EAAE;AAFiD,OAAjD,CAAX;AAIA,WAAKS,QAAL,CAAc;AAAEU,QAAAA,MAAM,EAAE;AAAV,OAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACH;;AAEDC,IAAAA,kBAAkB,GAAG;AACjBF,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACH;;AAEDE,IAAAA,oBAAoB,GAAG;AACnB3B,MAAAA,IAAI,CAAC4B,aAAL,CAAmB,KAAKR,GAAxB;AACH;;AAsBDS,IAAAA,MAAM,GAAG;AACL,0BACI,QAAC,gBAAD;AACI,QAAA,QAAQ,EAAE,KAAKzB,KAAL,CAAWL,QADzB;AAEI,QAAA,cAAc,EAAE,KAAKU,cAFzB;AAGI,QAAA,UAAU,EAAE,KAAKK,UAHrB;AAII,QAAA,gBAAgB,EAAE,KAAKG,gBAJ3B;AAKI,QAAA,cAAc,EAAE,KAAKC,cALzB;AAAA,WAMS,KAAKZ;AANd;AAAA;AAAA;AAAA;AAAA,cADJ;AAUH;;AAtDuB,GADK;AAAA,CAArC;;AA4DA,eAAeL,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport recettes from '../recettes'\n\n//firebse\nimport base from '../base'\n\nconst withFirebase = WrappedComponent => (\n    class HOC extends Component {\n        state = {\n            pseudo: this.props.match.params.pseudo,\n            recettes: {}\n        }\n\n        componentDidMount(){\n            this.ref = base.syncState(`/${this.state.pseudo}/recettes`, {\n                context: this,\n                state: 'recettes'\n            })\n            this.setState({ update: true})\n            console.log('componentDidMount');\n        }\n    \n        componentDidUpdate() {\n            console.log('componentDidUpdate');\n        }\n    \n        componentWillUnmount() {\n            base.removeBinding(this.ref)\n        }\n    \n        ajouterRecette = recette => {\n            const recettes = { ...this.state.recettes }\n            recettes[`recette-${Date.now()}`] = recette\n            this.setState({ recettes })\n        }\n    \n        majRecette = (key, newRecette) => {\n            const recettes = { ...this.state.recettes }\n            recettes[key] = newRecette\n            this.setState({ recettes })\n        }\n    \n        supprimerRecette = key => {\n            const recettes = { ...this.state.recettes }\n            recettes[key] = null\n            this.setState({ recettes })\n        }\n    \n        chargerExemple = () => this.setState({ recettes })\n\n        render() {\n            return (\n                <WrappedComponent\n                    recettes={this.state.recettes}\n                    ajouterRecette={this.ajouterRecette}\n                    majRecette={this.majRecette}\n                    supprimerRecette={this.supprimerRecette}\n                    chargerExemple={this.chargerExemple}\n                    { ...this.props}\n                />\n            );\n        }\n    }\n)\n\n\nexport default withFirebase;"]},"metadata":{},"sourceType":"module"}