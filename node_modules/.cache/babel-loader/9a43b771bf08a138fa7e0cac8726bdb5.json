{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/benjamindesole/Documents/GitHub/boite-a-recettes/src/hoc/withFirebase.js\",\n    _temp;\n\nimport React, { Component } from 'react';\nimport WrappedComponent from '../components/Connexion';\nimport recettes from '../recettes'; //firebse\n\nimport base from '../base';\nconst withFirebase = WrappedComponent = (_temp = class HOC extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      pseudo: this.props.match.params.pseudo,\n      recettes: {}\n    };\n\n    this.ajouterRecette = recette => {\n      const recettes = { ...this.state.recettes\n      };\n      recettes[`recette-${Date.now()}`] = recette;\n      this.setState({\n        recettes\n      });\n    };\n\n    this.majRecette = (key, newRecette) => {\n      const recettes = { ...this.state.recettes\n      };\n      recettes[key] = newRecette;\n      this.setState({\n        recettes\n      });\n    };\n\n    this.supprimerRecette = key => {\n      const recettes = { ...this.state.recettes\n      };\n      recettes[key] = null;\n      this.setState({\n        recettes\n      });\n    };\n\n    this.chargerExemple = () => this.setState({\n      recettes\n    });\n  }\n\n  componentDidMount() {\n    this.ref = base.syncState(`/${this.state.pseudo}/recettes`, {\n      context: this,\n      state: 'recettes'\n    });\n    this.setState({\n      update: true\n    });\n    console.log('componentDidMount');\n  }\n\n  componentDidUpdate() {\n    console.log('componentDidUpdate');\n  }\n\n  componentWillUnmount() {\n    base.removeBinding(this.ref);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(WrappedComponent, {\n      recettes: this.state.recettes,\n      ajouterRecette: this.ajouterRecette,\n      majRecette: this.majRecette,\n      supprimerRecette: this.supprimerRecette,\n      chargerExemple: this.chargerExemple,\n      ...this.props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }, this);\n  }\n\n}, _temp);\nexport default withFirebase;","map":{"version":3,"sources":["/Users/benjamindesole/Documents/GitHub/boite-a-recettes/src/hoc/withFirebase.js"],"names":["React","Component","WrappedComponent","recettes","base","withFirebase","HOC","state","pseudo","props","match","params","ajouterRecette","recette","Date","now","setState","majRecette","key","newRecette","supprimerRecette","chargerExemple","componentDidMount","ref","syncState","context","update","console","log","componentDidUpdate","componentWillUnmount","removeBinding","render"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;AACA,OAAOC,QAAP,MAAqB,aAArB,C,CAEA;;AACA,OAAOC,IAAP,MAAiB,SAAjB;AAEA,MAAMC,YAAY,GAAGH,gBAAgB,YACjC,MAAMI,GAAN,SAAkBL,SAAlB,CAA4B;AAAA;AAAA;AAAA,SACxBM,KADwB,GAChB;AACJC,MAAAA,MAAM,EAAE,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,MAD5B;AAEJL,MAAAA,QAAQ,EAAE;AAFN,KADgB;;AAAA,SAuBxBS,cAvBwB,GAuBPC,OAAO,IAAI;AACxB,YAAMV,QAAQ,GAAG,EAAE,GAAG,KAAKI,KAAL,CAAWJ;AAAhB,OAAjB;AACAA,MAAAA,QAAQ,CAAE,WAAUW,IAAI,CAACC,GAAL,EAAW,EAAvB,CAAR,GAAoCF,OAApC;AACA,WAAKG,QAAL,CAAc;AAAEb,QAAAA;AAAF,OAAd;AACH,KA3BuB;;AAAA,SA6BxBc,UA7BwB,GA6BX,CAACC,GAAD,EAAMC,UAAN,KAAqB;AAC9B,YAAMhB,QAAQ,GAAG,EAAE,GAAG,KAAKI,KAAL,CAAWJ;AAAhB,OAAjB;AACAA,MAAAA,QAAQ,CAACe,GAAD,CAAR,GAAgBC,UAAhB;AACA,WAAKH,QAAL,CAAc;AAAEb,QAAAA;AAAF,OAAd;AACH,KAjCuB;;AAAA,SAmCxBiB,gBAnCwB,GAmCLF,GAAG,IAAI;AACtB,YAAMf,QAAQ,GAAG,EAAE,GAAG,KAAKI,KAAL,CAAWJ;AAAhB,OAAjB;AACAA,MAAAA,QAAQ,CAACe,GAAD,CAAR,GAAgB,IAAhB;AACA,WAAKF,QAAL,CAAc;AAAEb,QAAAA;AAAF,OAAd;AACH,KAvCuB;;AAAA,SAyCxBkB,cAzCwB,GAyCP,MAAM,KAAKL,QAAL,CAAc;AAAEb,MAAAA;AAAF,KAAd,CAzCC;AAAA;;AAMxBmB,EAAAA,iBAAiB,GAAE;AACf,SAAKC,GAAL,GAAWnB,IAAI,CAACoB,SAAL,CAAgB,IAAG,KAAKjB,KAAL,CAAWC,MAAO,WAArC,EAAiD;AACxDiB,MAAAA,OAAO,EAAE,IAD+C;AAExDlB,MAAAA,KAAK,EAAE;AAFiD,KAAjD,CAAX;AAIA,SAAKS,QAAL,CAAc;AAAEU,MAAAA,MAAM,EAAE;AAAV,KAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACH;;AAEDC,EAAAA,kBAAkB,GAAG;AACjBF,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACH;;AAEDE,EAAAA,oBAAoB,GAAG;AACnB1B,IAAAA,IAAI,CAAC2B,aAAL,CAAmB,KAAKR,GAAxB;AACH;;AAsBDS,EAAAA,MAAM,GAAG;AACL,wBACI,QAAC,gBAAD;AACI,MAAA,QAAQ,EAAE,KAAKzB,KAAL,CAAWJ,QADzB;AAEI,MAAA,cAAc,EAAE,KAAKS,cAFzB;AAGI,MAAA,UAAU,EAAE,KAAKK,UAHrB;AAII,MAAA,gBAAgB,EAAE,KAAKG,gBAJ3B;AAKI,MAAA,cAAc,EAAE,KAAKC,cALzB;AAAA,SAMS,KAAKZ;AANd;AAAA;AAAA;AAAA;AAAA,YADJ;AAUH;;AAtDuB,CADK,QAArC;AA4DA,eAAeJ,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport WrappedComponent from '../components/Connexion';\nimport recettes from '../recettes'\n\n//firebse\nimport base from '../base'\n\nconst withFirebase = WrappedComponent = (\n    class HOC extends Component {\n        state = {\n            pseudo: this.props.match.params.pseudo,\n            recettes: {}\n        }\n\n        componentDidMount(){\n            this.ref = base.syncState(`/${this.state.pseudo}/recettes`, {\n                context: this,\n                state: 'recettes'\n            })\n            this.setState({ update: true})\n            console.log('componentDidMount');\n        }\n    \n        componentDidUpdate() {\n            console.log('componentDidUpdate');\n        }\n    \n        componentWillUnmount() {\n            base.removeBinding(this.ref)\n        }\n    \n        ajouterRecette = recette => {\n            const recettes = { ...this.state.recettes }\n            recettes[`recette-${Date.now()}`] = recette\n            this.setState({ recettes })\n        }\n    \n        majRecette = (key, newRecette) => {\n            const recettes = { ...this.state.recettes }\n            recettes[key] = newRecette\n            this.setState({ recettes })\n        }\n    \n        supprimerRecette = key => {\n            const recettes = { ...this.state.recettes }\n            recettes[key] = null\n            this.setState({ recettes })\n        }\n    \n        chargerExemple = () => this.setState({ recettes })\n\n        render() {\n            return (\n                <WrappedComponent\n                    recettes={this.state.recettes}\n                    ajouterRecette={this.ajouterRecette}\n                    majRecette={this.majRecette}\n                    supprimerRecette={this.supprimerRecette}\n                    chargerExemple={this.chargerExemple}\n                    { ...this.props}\n                />\n            );\n        }\n    }\n)\n\n\nexport default withFirebase;"]},"metadata":{},"sourceType":"module"}